import{a6 as n,k as r,E as e,r as i,y as t,B as a,a7 as u,s as l,q as c}from"./index.a2cad470.js";function o(n,r,e){return Math.min(Math.max(n,r),e)}function f(n,r,e){var i=n.indexOf(r);return-1===i?n:"-"===r&&0!==i?n.slice(0,i):n.slice(0,i+1)+n.slice(i).replace(e,"")}function s(n,r,e){void 0===r&&(r=!0),void 0===e&&(e=!0),n=r?f(n,".",/\./g):n.split(".")[0];var i=r?/[^-0-9.]/g:/[^-0-9]/g;return(n=e?f(n,"-",/-/g):n.replace(/-/,"")).replace(i,"")}function d(a){var u=n(a,null);if(u){var l=t(),c=u.link,o=u.unlink,f=u.internalChildren,s=function(n,r){if(null==n)return{};var e,i,t={},a=Object.keys(n);for(i=0;i<a.length;i++)e=a[i],r.indexOf(e)>=0||(t[e]=n[e]);return t}(u,["link","unlink","internalChildren"]);return c(l),r((function(){o(l)})),{parent:s,index:e((function(){return f.indexOf(l)}))}}return{parent:null,index:i(-1)}}function p(n,r,e){var i,t,a=(i=n.subTree.children,t=[],function n(r){Array.isArray(r)&&r.forEach((function(r){var e;c(r)&&(t.push(r),null!=(e=r.component)&&e.subTree&&n(r.component.subTree.children),r.children&&n(r.children))}))}(i),t);e.sort((function(n,r){return a.indexOf(n.vnode)-a.indexOf(r.vnode)}));var u=e.map((function(n){return n.proxy}));r.sort((function(n,r){return u.indexOf(n)-u.indexOf(r)}))}function h(n){var r=a([]),e=a([]),i=t();return{children:r,linkChildren:function(t){u(n,l({link:function(n){n.proxy&&(e.push(n),r.push(n.proxy),p(i,r,e))},unlink:function(n){var i=e.indexOf(n);r.splice(i,1),e.splice(i,1)},children:r,internalChildren:e},t))}}}export{d as a,s as f,o as r,h as u};
